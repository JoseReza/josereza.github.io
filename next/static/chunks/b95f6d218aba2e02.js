(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,22211,r=>{"use strict";r.s(["default",()=>n]);var e=r.i(43476),t=r.i(71645);let o="gate";async function a(r){let e=new TextEncoder;return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",e.encode(r)))).map(r=>r.toString(16).padStart(2,"0")).join("")}function n(r){let{children:n}=r,[i,s]=(0,t.useState)(null),[d,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[g,p]=(0,t.useState)(!1);(0,t.useEffect)(()=>{s("1"===sessionStorage.getItem(o))},[]);let m=(0,t.useCallback)(async r=>{if(r.preventDefault(),!d.trim())return void u("Introduce la contraseña.");u(""),p(!0);try{let r=await fetch("/gate_hash.json");if(!r.ok)throw Error("No se pudo verificar el acceso.");let{hash:e}=await r.json();if(await a(d)!==e)return void u("Contraseña incorrecta.");sessionStorage.setItem(o,"1"),s(!0)}catch(r){u(r instanceof Error?r.message:"Error al verificar la contraseña.")}finally{p(!1)}},[d]);return null===i?(0,e.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-start)",color:"var(--text-color)"},children:(0,e.jsx)("span",{"aria-hidden":!0,children:"..."})}):i?(0,e.jsx)(e.Fragment,{children:n}):(0,e.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-start)",color:"var(--text-color)",padding:24},children:(0,e.jsxs)("div",{style:{background:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:12,padding:32,maxWidth:360,width:"100%",boxShadow:"0 8px 24px var(--shadow)"},children:[(0,e.jsx)("h1",{style:{marginTop:0,marginBottom:8,fontSize:"1.5rem"},children:"Acceso al portafolio"}),(0,e.jsx)("p",{style:{marginBottom:24,opacity:.9,fontSize:"0.95rem"},children:"Introduce la contraseña para continuar."}),(0,e.jsxs)("form",{onSubmit:m,children:[(0,e.jsx)("label",{htmlFor:"gate-password",style:{display:"block",marginBottom:6,fontSize:"0.9rem"},children:"Contraseña"}),(0,e.jsx)("input",{id:"gate-password",type:"password",value:d,onChange:r=>{l(r.target.value),u("")},placeholder:"Contraseña",autoFocus:!0,autoComplete:"current-password",style:{width:"100%",padding:"12px 14px",borderRadius:8,border:"1px solid var(--card-border)",background:"var(--background)",color:"var(--text-color)",marginBottom:8,boxSizing:"border-box",fontSize:"1rem"}}),c&&(0,e.jsx)("p",{style:{color:"#dc2626",fontSize:"0.85rem",marginBottom:12},children:c}),(0,e.jsx)("button",{type:"submit",disabled:g,style:{width:"100%",padding:"12px 14px",borderRadius:8,border:"none",background:"var(--foreground)",color:"var(--background)",cursor:g?"not-allowed":"pointer",fontSize:"1rem"},children:g?"Comprobando…":"Entrar"})]})]})})}}]);